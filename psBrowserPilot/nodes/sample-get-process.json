{
  "id": "sample_get_process",
  "label": "Sample: Get-Process",
  "category": "System",
  "inputs": [],
  "outputs": ["ProcessInfo"],
  "constants": [
    {
      "key": "processName",
      "default": "\"pwsh\""
    },
    {
      "key": "includeModules",
      "default": "$false"
    }
  ],
  "script": "# Retrieves process information for the configured process name\n$processName = {{config.processName}}\nif ([string]::IsNullOrWhiteSpace($processName)) {\n    throw 'Process name is required.'\n}\n$process = Get-Process -Name $processName -ErrorAction Stop | Select-Object -First 1\nif ($null -eq $process) {\n    throw \"Process not found: $processName\"\n}\nif ({{config.includeModules}} -eq '$true') {\n    $moduleInfo = (Get-Process -Id $process.Id -Module).Modules\n    {{output.ProcessInfo}} = [PSCustomObject]@{\n        Name = $process.ProcessName\n        Id = $process.Id\n        Modules = $moduleInfo.ModuleName\n    }\n} else {\n    {{output.ProcessInfo}} = [PSCustomObject]@{\n        Name = $process.ProcessName\n        Id = $process.Id\n        CPU = $process.CPU\n        WorkingSet = $process.WorkingSet64\n    }\n}"
}
